# ConformanceApi

API for a Facility test server.

| method | path | description |
| --- | --- | --- |
| [getApiInfo](ConformanceApi/getApiInfo.md) | `GET /` | Gets API information. |
| [getWidgets](ConformanceApi/getWidgets.md) | `GET /widgets` | Gets widgets. |
| [createWidget](ConformanceApi/createWidget.md) | `POST /widgets` | Creates a new widget. |
| [getWidget](ConformanceApi/getWidget.md) | `GET /widgets/{id}` | Gets the specified widget. |
| [deleteWidget](ConformanceApi/deleteWidget.md) | `DELETE /widgets/{id}` | Deletes the specified widget. |
| [getWidgetBatch](ConformanceApi/getWidgetBatch.md) | `POST /widgets/get` | Gets the specified widgets. |
| [mirrorFields](ConformanceApi/mirrorFields.md) | `POST /mirrorFields` |  |
| [checkQuery](ConformanceApi/checkQuery.md) | `GET /checkQuery` |  |
| [checkPath](ConformanceApi/checkPath.md) | `GET /checkPath/{string}/{boolean}/{float}/{double}/{int32}/{int64}/{decimal}/{enum}/{datetime}` |  |
| [mirrorHeaders](ConformanceApi/mirrorHeaders.md) | `GET /mirrorHeaders` |  |
| [mixed](ConformanceApi/mixed.md) | `POST /mixed/{path}` |  |
| [required](ConformanceApi/required.md) | `POST /required` |  |
| [mirrorBytes](ConformanceApi/mirrorBytes.md) | `POST /mirrorBytes` |  |
| [mirrorText](ConformanceApi/mirrorText.md) | `POST /mirrorText` |  |
| [bodyTypes](ConformanceApi/bodyTypes.md) | `POST /bodyTypes` |  |

| event | path | description |
| --- | --- | --- |
| [fibonacci](ConformanceApi/fibonacci.md) | ` /fibonacci` |  |

| data | description |
| --- | --- |
| [Widget](ConformanceApi/Widget.md) | A widget. |
| [Any](ConformanceApi/Any.md) |  |
| [AnyArray](ConformanceApi/AnyArray.md) |  |
| [AnyMap](ConformanceApi/AnyMap.md) |  |
| [AnyResult](ConformanceApi/AnyResult.md) |  |
| [AnyNullable](ConformanceApi/AnyNullable.md) |  |
| [HasWidget](ConformanceApi/HasWidget.md) |  |

| enum | description |
| --- | --- |
| [Answer](ConformanceApi/Answer.md) | One of three answers. |

| errors | description |
| --- | --- |
| [ApiErrors](ConformanceApi/ApiErrors.md) | Custom errors. |

The Facility Conformance API allows clients and servers in various languages and platforms
to test one another for conformance.

## Conformance Web Server

A conformance web server should leverage a Facility server code generator and/or library.
On each request, the web server should determine the conformance test being executed by
looking at the `FacilityTest` HTTP header. The web server should find the test data for the
specified test, ensure that the request matches, and return the specified response or error.

The web server should return `InvalidRequest` if:

* The `FacilityTest` HTTP header is missing.
* The API method called does not match the method specified by the test data.
* The actual request is not an exact match of the request specified by the test data.
* The server fails to create a response or error that is an exact match of the specified
  response or error.

When checking for an exact match, the only thing that can be ignored is the order of the
properties of an object. There should be no missing properties, no extra properties, and
all property names and other strings should use the same letter case.

## Conformance Tester

A conformance tester should leverage a Facility client generator and/or library. The tester
should enumerate through all of the conformance tests. For each test, it should create a
client that adds the `FacilityTest` HTTP header to any request. It should use that client to
call the method specified by the test data with the request specified by the test data. The
tester should verify that the result matches the response or error specified by the test data.

The tester should report a test failure if:

* The method specified by the test data is missing.
* The client fails to create a request that is an exact match of the specified request.
* The client receives a response or error that is not an exact match of the specified
  response or error.

<!-- DO NOT EDIT: generated by fsdgenmd -->
